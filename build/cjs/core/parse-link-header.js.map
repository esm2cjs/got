{
  "version": 3,
  "sources": ["../../esm/core/parse-link-header.js"],
  "sourcesContent": ["export default function parseLinkHeader(link) {\n    const parsed = [];\n    const items = link.split(',');\n    for (const item of items) {\n        // https://tools.ietf.org/html/rfc5988#section-5\n        const [rawUriReference, ...rawLinkParameters] = item.split(';');\n        const trimmedUriReference = rawUriReference.trim();\n        // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n        if (trimmedUriReference[0] !== '<' || trimmedUriReference[trimmedUriReference.length - 1] !== '>') {\n            throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n        }\n        const reference = trimmedUriReference.slice(1, -1);\n        const parameters = {};\n        if (rawLinkParameters.length === 0) {\n            throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n        }\n        for (const rawParameter of rawLinkParameters) {\n            const trimmedRawParameter = rawParameter.trim();\n            const center = trimmedRawParameter.indexOf('=');\n            if (center === -1) {\n                throw new Error(`Failed to parse Link header: ${link}`);\n            }\n            const name = trimmedRawParameter.slice(0, center).trim();\n            const value = trimmedRawParameter.slice(center + 1).trim();\n            parameters[name] = value;\n        }\n        parsed.push({\n            reference,\n            parameters,\n        });\n    }\n    return parsed;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAe,SAAR,gBAAiC,MAAM;AAC1C,QAAM,SAAS,CAAC;AAChB,QAAM,QAAQ,KAAK,MAAM,GAAG;AAC5B,aAAW,QAAQ,OAAO;AAEtB,UAAM,CAAC,oBAAoB,iBAAiB,IAAI,KAAK,MAAM,GAAG;AAC9D,UAAM,sBAAsB,gBAAgB,KAAK;AAEjD,QAAI,oBAAoB,OAAO,OAAO,oBAAoB,oBAAoB,SAAS,OAAO,KAAK;AAC/F,YAAM,IAAI,MAAM,gDAAgD,qBAAqB;AAAA,IACzF;AACA,UAAM,YAAY,oBAAoB,MAAM,GAAG,EAAE;AACjD,UAAM,aAAa,CAAC;AACpB,QAAI,kBAAkB,WAAW,GAAG;AAChC,YAAM,IAAI,MAAM,6CAA6C,kBAAkB,KAAK,GAAG,GAAG;AAAA,IAC9F;AACA,eAAW,gBAAgB,mBAAmB;AAC1C,YAAM,sBAAsB,aAAa,KAAK;AAC9C,YAAM,SAAS,oBAAoB,QAAQ,GAAG;AAC9C,UAAI,WAAW,IAAI;AACf,cAAM,IAAI,MAAM,gCAAgC,MAAM;AAAA,MAC1D;AACA,YAAM,OAAO,oBAAoB,MAAM,GAAG,MAAM,EAAE,KAAK;AACvD,YAAM,QAAQ,oBAAoB,MAAM,SAAS,CAAC,EAAE,KAAK;AACzD,iBAAW,QAAQ;AAAA,IACvB;AACA,WAAO,KAAK;AAAA,MACR;AAAA,MACA;AAAA,IACJ,CAAC;AAAA,EACL;AACA,SAAO;AACX;",
  "names": []
}
